<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      15 Minutes of Concentration &middot; PapaScott
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.9.0/css/lightbox.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
  <link rel="stylesheet" href="/public/css/ps.css">

  <!-- Icons -->
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed/index.xml">

  

</head>


  <body class="theme-base-08" >

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><a href="/">PapaScott</a> is a personal weblog by Scott Hanson.</p>
  </div>
<!-- Jquery loads content of sidebar div, see default.html -->
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">PapaScott</a>
            <small>I don't claim to succeed at all this!</small>
          </h3>
        </div>
      </div>

      <div class="container content">


        <div class="post">
  <h1 class="post-title">15 Minutes of Concentration</h1>
  <span class="post-date">22 Aug 2004</span>
  <p>Whenever I try to get any work done at home while watching Christopher, I have to think of an <a href="http://www.joelonsoftware.com/global/English/Articles/WheredoThesePeopleGetThei.html" title="Joel on Software - Where do These People Get Their (Unoriginal) Ideas?">article by Joel Sponsky</a> where he writes that it takes (at least) 15 minutes for a programmer to start concentrating on solving a problem, and that with every interruption, you have to start that concentration time over from zero. How often does a 4-year-old leave a parent alone for 15 minutes? Yes, my point exactly.</p>
<p>With that in mind, <a href="http://www.papascott.de/archives/2004/08/22/15-minutes-of-concentration/#more-2022">below</a> is the Movable Type 3.x plugin for which I've been trying to write a front-end. It emulates the WordPress function in which you can automatically moderate a comment with several hyperlinks. Save this as <code>MT_DIR/plugins/modhref.pl</code>, and set $maxhref to the maximum number of links you want to allow. </p>
<p>Once I was half-way done, I saw that it would pretty much be a knock-off of Chad Everett's <a href="http://jayseae.cxliv.org/moderate/">Moderate plugin</a>, just using a different critereon for moderation (Moderate checks the age of the posting and the lastest comment for the post, and moderates if either is too old). The criteria could probably be combined into a single plugin to perform simple tests on comments not explicitly banned by <a href="http://www.jayallen.org/projects/mt-blacklist/">MT-Blacklist</a>.<br />
<!--more--></p>
<pre># Modhref: Moderate comments with too many links.
# A Plugin for Movable Type
package MT::Plugin::Modhref;
use vars qw($VERSION);
$VERSION = '0.01';
use strict;
use MT;
use MT::Comment;
use MT::Plugin;
# configuration variables (TODO put into CGI interface)
my $maxhref = 4; # maximum number of links before a comment is moderated
my $reg_ok = 1;  # pre-approve registered commenters?

my $plugin = new MT::Plugin({
  name =&gt; 'Modhref',
  description =&gt; 'Moderate comments with too many links.',
  doc_link =&gt; 'http://www.papascott.de/'
});
MT-&gt;add_plugin($plugin);
MT::Comment-&gt;add_callback('pre_save', 10, $plugin, &amp;modhref);
sub modhref {
  my ($eh, $obj) = @_;
  my $count = 0;
  unless ($obj-&gt;id) { # only check new comments
    # don't check registered comments unless we say so
    return if ($obj-&gt;commenter_id &amp;&amp; $reg_ok); 
    my $text = $obj-&gt;text;
    $count++ while $text =~ /&lt;a [^&gt;]*href[^&gt;]*&gt;/gi;  # count links
    $obj-&gt;visible(0) if ($count &gt; $maxhref); # moderate if we find to many
  }
}
1;</pre>

</div>
<div>
  
    <span class="post-date">
    Previous Post: <a href="/archives/2004/08/21/olympic-coverage/">Olympic Schadenfreude</a></span>
  
  
    <span class="post-date">
    Next Post: <a href="/archives/2004/08/23/perspective/">Perspective</a></span>
  
</div>
<div class="related" id="related">
<!-- Jquery loads content of related div, see default.html -->
</div>

        
<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script type="text/javascript">
if(location.hostname.match('papascott')){
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'papascott'; // required: replace example with your forum shortname
  var disqus_identifier = "/archives/2004/08/22/15-minutes-of-concentration/";

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  }
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.1.4/zepto.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.9.0/js/lightbox-plus-jquery.js"></script>
    
    <script>
      $( "#sidebar" ).load( "/includes/sidebar.html" );
      $( "#related" ).load( "/includes/related.html" );
      
    </script>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
