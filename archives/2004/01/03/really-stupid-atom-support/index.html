<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Really Stupid Atom Support &middot; PapaScott
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.9.0/css/lightbox.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
  <link rel="stylesheet" href="/public/css/ps.css">

  <!-- Icons -->
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed/index.xml">

  

</head>


  <body class="theme-base-08" >

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><a href="/">PapaScott</a> is a personal weblog by Scott Hanson.</p>
  </div>
<!-- Jquery loads content of sidebar div, see default.html -->
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">PapaScott</a>
            <small>I like big blogs and I cannot lie!</small>
          </h3>
        </div>
      </div>

      <div class="container content">


        <div class="post">
  <h1 class="post-title">Really Stupid Atom Support</h1>
  <span class="post-date">03 Jan 2004</span>
  <p>(for <a href="http://magpierss.sourceforge.net/">Magpie RSS 0.52</a> and <a href="http://minutillo.com/steve/feedonfeeds/">Feed on Feeds 0.1.1</a>).  Many blogs are already sporting Atom 0.3 feeds, and <a href="http://www.diveintomark.org/">some</a> have even declared their RSS to be deprecated. So I decided to try to bolt Atom support onto my aggregator of choice. It turned out to be pretty easy, requiring patching just 2 files. </p>
<p>However, my approach is very simplistic, simply representing Atom items in Magpie such that FoF can understand and display them. I'm sure that Kellan and Steve will eventually fully support Atom feeds. But until they do, here is the <a href="http://www.papascott.de/wordpress/wp-content/uploads/2004/01/rsas.patch.gz">patch to init.php and parse_rss.inc</a>. I thought about calling it 'Really Stupid Support for Atom', but the acronym 'RSS for Atom' would have confusing to say the least.</p>
<p>Disclaimer: this works for me, at least for the <a href="http://www.papascott.de/atom.xml">three</a> <a href="http://diveintomark.org/xml/atom.xml">Atom</a> <a href="http://www.ahawkins.org/atom.xml">feeds</a> I've tried. It may not work for you.<br />
<!--more--><br />
If you're interested in the gory details, I basically made 3 changes:</p>
<ol>
<li>Magpie will parse anything that remotely resembles RSS without bothering to validate it. While RSS is a 'channel' containing several 'items', Atom is a 'feed' containing several 'entries'. So I just told magpie to treat a 'feed' as a channel and an 'entry' as an item.</li>
<li>Magpie doesn't parse XML attributes at all. However, 'links' in Atom are defined purely as attributes, and each 'feed' or 'entry' can have several links, while in RSS a 'link' is simply a string. So I had Magpie create an array of items for each link.</li>
<li>I then told FoF about the new elements in the array, for example to use the 'tagline' for the 'description' if it exists. I also wrote a function for FoF to select the first appropriate link if the link is an array instead of a string.</li>
</ol>

</div>
<div>
  
    <span class="post-date">
    Previous Post: <a href="/archives/2004/01/03/terror-alarm-homburg-not-hamburg/">Terror alarm: Homburg, not Hamburg?</a></span>
  
  
    <span class="post-date">
    Next Post: <a href="/archives/2004/01/03/share-your-opml-view-scott-hansons-feeds/">Share Your OPML: View Scott Hanson's Feeds</a></span>
  
</div>
<div class="related" id="related">
<!-- Jquery loads content of related div, see default.html -->
</div>

        
<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script type="text/javascript">
if(location.hostname.match('papascott')){
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'papascott'; // required: replace example with your forum shortname
  var disqus_identifier = "/archives/2004/01/03/really-stupid-atom-support/";

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  }
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.1.4/zepto.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.9.0/js/lightbox-plus-jquery.js"></script>
    
    <script>
      $( "#sidebar" ).load( "/includes/sidebar.html" );
      $( "#related" ).load( "/includes/related.html" );
      
    </script>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
