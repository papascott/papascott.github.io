<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Another fine moment in systems administration &middot; PapaScott
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="/public/css/ps.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed/index.xml">

</head>


  <body class="theme-base-08" >

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><a href="/">PapaScott</a> is a personal weblog by Scott Hanson.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about.html">About</a>
        
      
    
      
    
      
    
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/search.html">Search</a>
        
      
    
      
        
      
    
    
<div class="sidebar-nav-item">Archives: 

<a href="/archives/2015/">2015</a>
<a href="/archives/2014/">2014</a>
<a href="/archives/2013/">2013</a>
<a href="/archives/2012/">2012</a>
<a href="/archives/2011/">2011</a>
<a href="/archives/2010/">2010</a>
<a href="/archives/2009/">2009</a>
<a href="/archives/2008/">2008</a>
<a href="/archives/2007/">2007</a>
<a href="/archives/2006/">2006</a>
<a href="/archives/2005/">2005</a>
<a href="/archives/2004/">2004</a>
<a href="/archives/2003/">2003</a>
<a href="/archives/2002/">2002</a>
<a href="/archives/2001/">2001</a>
<a href="/archives/2000/">2000</a>
<a href="/archives/1999/">1999</a>

</div>
    <a class="sidebar-nav-item" href="http://www.mcdonalds-nordheide.de/">McDonald's Nordheide-Harburg</a>


    
</nav>
  <div class="sidebar-item">
  <p>
  	Powered by <a href="http://jekyllrb.com/">jekyll</a>, styled by <a href="http://lanyon.getpoole.com/">lanyon</a>, served by <a href="https://pages.github.com/">GitHub</a>
  </p>
    <p>
      &copy; 2015. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">PapaScott</a>
            <small>And you know what they said? Well, some of it was true!</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        

        <div class="post">
  <h1 class="post-title">Another fine moment in systems administration</h1>
  <span class="post-date">15 Mar 2004</span>
  <p>A month ago I replaced the system on a monitoring server, a low-powered PC that stores our syslogs and runs <a title="A high performance, extremely flexible system for monitoring trends in time-series data." href="http://cricket.sourceforge.net/">Cricket</a>, collecting various statistics via SNMP. It also serves as the serial console for most of our Suns, so the machine has to stay up and usable. Over the past couple of weeks performance had degraded steadily. Rebooting would solve the problem at first, but within an hour the load would again be maxxed out, even though the CPU was mostly idle and no RAM was being swapped. I installed a new kernel. I replaced the network card (which was spewing errors). I tried stopping services. I turned off the software RAID. Nothing helped.</p>
<p>Finally today I stumbled upon the answer. The mail logs from our postfix servers were not being rotated. We had customized syslog to save the mail logs with non-standard names, and my predecessor had put the logrotate configuration for the custom log files not where I'd expect, in /etc/logrotate.conf (which I had copied over from the old system), but in a file named 'guenther' (name changed to protext the guilty) under /etc/logrotate.d/. Cricket was performing a number of greps every 5 minutes on that log file, which by now was at over 200 MB.</p>
<p>I copied over the file, renamed it guenther_<a title="LEO Results for 'blÃ¶dmann'" href="http://dict.leo.org/?search=bl%F6dmann">bloedmann</a>, ran a manual logrotate, and everything now seems fine.</p>

</div>
<div>
  
    <span class="post-date">
    Previous Post: <a href="/archives/2004/03/15/tobias-is-looking-for-a-german-greenish-kind-of-liberal-new-labour-party/">Tobias is looking for a German greenish kind of liberal New Labour party</a></span>
  
  
    <span class="post-date">
    Next Post: <a href="/archives/2004/03/16/citizen-smash-on-spain/">Citizen Smash on Spain</a></span>
  
</div>
<div class="related">
  <h2>Recent Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/archives/2015/04/23/transition/">
            Transition
            <small>23 Apr 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/archives/2015/04/20/confirmation/">
            Confirmation
            <small>20 Apr 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/archives/2015/02/10/how-i-punked-facebook/">
            How I Punked Facebook
            <small>10 Feb 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

        
<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script type="text/javascript">
if(location.hostname.match('papascott')){
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'papascott'; // required: replace example with your forum shortname
  var disqus_identifier = "/archives/2004/03/15/another-fine-moment-in-systems-administration/";

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  }
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
