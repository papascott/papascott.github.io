<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      The New Old Blogroll &middot; PapaScott
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.9.0/css/lightbox.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
  <link rel="stylesheet" href="/public/css/ps.css">

  <!-- Icons -->
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed/index.xml">

  

</head>


  <body class="theme-base-08" >

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><a href="/">PapaScott</a> is a personal weblog by Scott Hanson.</p>
  </div>
<!-- Jquery loads content of sidebar div, see default.html -->
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">PapaScott</a>
            <small>I like big blogs and I cannot lie!</small>
          </h3>
        </div>
      </div>

      <div class="container content">


        <div class="post">
  <h1 class="post-title">The New Old Blogroll</h1>
  <span class="post-date">20 Oct 2002</span>
  <p>I'm now including the update times in my blogroll like I used to. <a href="http://www.blogrolling.com/">Blogrolling</a> makes my data available as a <a href="http://rpc.blogrolling.com/rss.php?r=ff5c543c6d32b2efee7f40bbb537da2d">chronologically sorted RSS file</a>, which I can parse quite easily using the <a href="http://magpierss.sourceforge.net/">Magpie RSS Parser</a> for PHP (thanks to <a href="http://traumwind.tierpfad.de/blog/">Martin</a> for the tip). Magpie chokes if any entities are in the file, but since I set the titles myself, I can easily avoid that. I do need to do a bit a parsing to convert the 'Last updated' string to a time/date I can use. One advantage over the data from <a href="http://www.blo.gs/">blo.gs</a> is that I can include sites that do not ping weblogs.com when they update. They land at the bottom of the list. Eventually I'll figure how to check them for updates as well (RSS feed? HTTP headers? md5 sums?).</p>
<pre>&lt;h4&gt;blogroll (CET):&lt;/h4&gt;
&lt;?php
require_once('./blogroll/rss_fetch.inc'); #magpie rss parser
# in rss_fetch.inc I've set $CACHE_AGE to 60*10 instead of 60*60
$url = 'http://rpc.blogrolling.com/rss.php?r=ff5c543c6d32b2efee7f40bbb537da2d';
list( $rss, $status, $msg) = fetch_rss( $url );
$yesterday=strtotime('0:00 yesterday');
foreach ($rss-&gt;items as $item ) {
    $t = str_replace(array('Last updated: ','on '),'',$item[description]);
    $t = strtotime($t);
    $fmt = $t &gt; $yesterday ? "H:i" : "d M";
    $date = $t&gt;0 ? date($fmt,$t) : '-';
    if ($t&gt;0) $title = "Last updated: ".date('H:i:s',$t).
        " CET on ".date('l, F d',$t);
    else $title = "Last updated: unknown";
    echo "&lt;a href="$item[link]" title="$title"&gt;";
    echo "$date $item[title]";
    echo "&lt;/a&gt;&lt;br /&gt;n";
}
?&gt;</pre>

</div>
<div>
  
    <span class="post-date">
    Previous Post: <a href="/archives/2002/10/18/ping-on-you/">Ping On You</a></span>
  
  
    <span class="post-date">
    Next Post: <a href="/archives/2002/10/20/moellemann-resigns/"></a></span>
  
</div>
<div class="related" id="related">
<!-- Jquery loads content of related div, see default.html -->
</div>

        
<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script type="text/javascript">
if(location.hostname.match('papascott')){
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'papascott'; // required: replace example with your forum shortname
  var disqus_identifier = "/archives/2002/10/20/the-new-old-blogroll/";

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  }
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.1.4/zepto.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.9.0/js/lightbox-plus-jquery.js"></script>
    
    <script>
      $( "#sidebar" ).load( "/includes/sidebar.html" );
      $( "#related" ).load( "/includes/related.html" );
      
    </script>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
