<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      VPN Part 1 &middot; PapaScott
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="/public/css/ps.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed/index.xml">

</head>


  <body class="theme-base-08" >

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><a href="/">PapaScott</a> is a personal weblog by Scott Hanson.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about.html">About</a>
        
      
    
      
    
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/search.html">Search</a>
        
      
    
      
        
      
    
    
<div class="sidebar-nav-item">Archives: 

<a href="/archives/2015/">2015</a>
<a href="/archives/2014/">2014</a>
<a href="/archives/2013/">2013</a>
<a href="/archives/2012/">2012</a>
<a href="/archives/2011/">2011</a>
<a href="/archives/2010/">2010</a>
<a href="/archives/2009/">2009</a>
<a href="/archives/2008/">2008</a>
<a href="/archives/2007/">2007</a>
<a href="/archives/2006/">2006</a>
<a href="/archives/2005/">2005</a>
<a href="/archives/2004/">2004</a>
<a href="/archives/2003/">2003</a>
<a href="/archives/2002/">2002</a>
<a href="/archives/2001/">2001</a>
<a href="/archives/2000/">2000</a>
<a href="/archives/1999/">1999</a>

</div>
    <a class="sidebar-nav-item" href="http://www.mcdonalds-nordheide.de/">McDonald's Nordheide-Harburg</a>


    
</nav>
  <div class="sidebar-item">
  <p>
  	Powered by <a href="http://jekyllrb.com/">jekyll</a>, styled by <a href="http://lanyon.getpoole.com/">lanyon</a>, served by <a href="https://pages.github.com/">GitHub</a>
  </p>
    <p>
      &copy; 2015. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">PapaScott</a>
            <small>And you know what they said? Well, some of it was true!</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        

        <div class="post">
  <h1 class="post-title">VPN Part 1</h1>
  <span class="post-date">04 Dec 2005</span>
  <p>I've always been somewhat intimitated by VPNs. I've never really used them myself, being content with openssh-tunnels for my work. At my old company Netlife I inherited an IPSEC site-to-site VPN to a branch office, but I never had to touch it until we shut the office down. </p>
<p>VPN was on my initial to-do list at nu2m, and I was happy to find the open-source firewall <a href="http://www.m0n0.ch/wall/">m0n0wall</a> with PPTP and IPSEC VPNs included onboard. We don't need VPN for our remote offices, as our provider organizes their DSL lines behind our firewall (using <a href="http://whatis.techtarget.com/definition/0,,sid9_gci1149279,00.html" title="virtual routing and forwarding - a Whatis.com definition - see also: VRF, VPN routing and forwarding">VRF</a>, virtual routing and forwarding). PPTP works fine for individual users, they just need a username and a password, and a client is included in both Windows and OS X. I can assign them IPs and control where they can go in m0n0wall. By default the clients direct all traffic to the internet through the VPN, which is fine for occasional users. Heavy user have to set up their own routes.</p>
<p>PPTP on m0n0wall has its drawbacks, though. The Berlin office had a Windows VPN server of its own, and we were never able to connect to it after they were behind the firewall. M0n0 insisted on grabbing all PPTP traffic for itself. (The workaround was to set up logins for Berlin on our VPN server.)  And we were never able to run more than 1 PPTP client behind the firewall at one time, something do with the the magic of GRE packets. As for IPSEC, I was never able to get it to work. I could connect, but I couldn't reach any hosts beyond the firewall. I suspect that with 2 firewall hosts and the VRF, our network is like <a href="http://www.stetson.edu/~vfischer/Shrekonionlayerspage.htm">Shrek's onion</a>. It has too many layers.</p>
<p>We now have a partner that needs several clients to connect to our LAN simultaneously. PPTP doesn't cut it, because their firewall allows only 1 PPTP client at a time. So I'm going to have to overcome my intimidation and come up with a way to slice the onion. I think I've found the <a href="http://openvpn.net/">ginsu knife</a> to do it. More on that later...</p>

</div>
<div>
  
    <span class="post-date">
    Previous Post: <a href="/archives/2005/12/04/in-front-of-the-dakota/">In Front of the Dakota</a></span>
  
  
    <span class="post-date">
    Next Post: <a href="/archives/2005/12/05/cats-in-sinks/">Cats in Sinks</a></span>
  
</div>
<div class="related">
  <h2>Recent Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/archives/2015/04/23/transition/">
            Transition
            <small>23 Apr 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/archives/2015/04/20/confirmation/">
            Confirmation
            <small>20 Apr 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/archives/2015/02/10/how-i-punked-facebook/">
            How I Punked Facebook
            <small>10 Feb 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

        
<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script type="text/javascript">
if(location.hostname.match('papascott')){
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'papascott'; // required: replace example with your forum shortname
  var disqus_identifier = "/archives/2005/12/04/vpn-part-1/";

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  }
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
